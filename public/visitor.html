<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title data-i18n="visitor.title">Visitor</title>
	<link rel="stylesheet" href="/style.css" />
</head>
<body>
	<header class="topbar" id="navbar"></header>
	<main class="container" style="padding-top: var(--space-8); padding-bottom: var(--space-8);">
		<form id="visitorForm" class="card minimal">
			<input type="hidden" id="visitorId" />
			
			<!-- Form Header -->
			<div style="margin-bottom: var(--space-6);">
				<h2 style="margin-bottom: var(--space-2);" data-i18n="visitor.title">Visitor Information</h2>
				<p class="text-muted" style="margin: 0;" data-i18n="visitor.subtitle">Fill in the visitor details below</p>
			</div>
			
			<!-- Basic Information -->
			<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-4);">
				<div>
					<label data-i18n="visitor.firstName">First name</label>
					<input id="firstName" required data-placeholder="visitor.placeholderFirstName" />
				</div>
				<div>
					<label data-i18n="visitor.lastName">Last name</label>
					<input id="lastName" required data-placeholder="visitor.placeholderLastName" />
				</div>
			</div>
			
			<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-4); margin-top: var(--space-4);">
				<div>
					<label data-i18n="visitor.academicDegree">Academic Degree</label>
					<input id="academicDegree" data-placeholder="visitor.placeholderDegree" />
				</div>
				<div>
					<label data-i18n="visitor.jobPosition">Job Position</label>
					<input id="jobPosition" data-placeholder="visitor.placeholderPosition" />
				</div>
			</div>
			
			<label data-i18n="visitor.note" style="margin-top: var(--space-4);">Note</label>
			<textarea id="note" rows="3" data-placeholder="visitor.placeholderNote"></textarea>
			
			<!-- Contacts Section -->
			<section>
				<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4);">
					<div>
						<h3 style="margin: 0;" data-i18n="visitor.contacts">Contacts</h3>
						<p class="text-muted" style="margin: var(--space-1) 0 0 0; font-size: var(--font-size-sm);" data-i18n="visitor.contactsDesc">Add contact information</p>
					</div>
					<button type="button" id="addContactBtn" class="btn btn-secondary">
						<svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
							<path d="M12 4v16m8-8H4"/>
						</svg>
						<span data-i18n="visitor.addContact">Add Contact</span>
					</button>
				</div>
				<div id="contacts"></div>
			</section>
			
			<!-- Voice Recording Section -->
			<section>
				<div style="margin-bottom: var(--space-4);">
					<h3 style="margin: 0 0 var(--space-1) 0;" data-i18n="visitor.voice">Voice Recording</h3>
					<p class="text-muted" style="margin: 0; font-size: var(--font-size-sm);" data-i18n="visitor.voiceDesc">Record or upload voice notes</p>
				</div>
				<div id="voiceRecorder" class="recorder">
					<div style="display:flex;gap:var(--space-2);align-items:center;flex-wrap:wrap;">
						<button type="button" class="btn btn-primary" id="vrStart">
							<svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
								<circle cx="12" cy="12" r="8"/>
							</svg>
							<span data-i18n="recorder.start">Start Recording</span>
						</button>
						<button type="button" class="btn btn-secondary" id="vrStop" disabled>
							<svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
								<rect x="6" y="6" width="12" height="12" rx="1"/>
							</svg>
							<span data-i18n="recorder.stop">Stop</span>
						</button>
						<button type="button" class="btn btn-secondary" id="vrPlay" disabled>
							<svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
								<path d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
								<path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
							<span data-i18n="recorder.play">Play</span>
						</button>
						<span class="text-muted" id="vrStatus" style="font-size: var(--font-size-sm);"></span>
					</div>
					<div id="vrProgressWrap" style="margin-top:var(--space-4);width:100%;max-width:420px;">
						<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-2);">
							<small class="text-muted" style="font-size: var(--font-size-xs);" data-i18n="visitor.recordingProgress">Recording Progress</small>
							<small id="vrTime" class="text-muted" style="font-size: var(--font-size-xs); font-weight: var(--font-weight-medium);">00:00</small>
						</div>
						<div class="progress-bar-bg">
							<div id="vrProgress"></div>
						</div>
					</div>
					<audio id="vrAudio" controls style="display:none;margin-top:var(--space-4);width:100%;max-width:420px;"></audio>
				</div>
				<div id="voiceList" class="voice-list" style="margin-top:var(--space-4);"></div>
			</section>
			
			<!-- Photos Section -->
			<section>
				<div style="margin-bottom: var(--space-4);">
					<h3 style="margin: 0 0 var(--space-1) 0;" data-i18n="visitor.photos">Photos</h3>
					<p class="text-muted" style="margin: 0; font-size: var(--font-size-sm);" data-i18n="visitor.photosDesc">Upload visitor photos</p>
				</div>
				<label for="photoInput" style="display: block; cursor: pointer; padding: var(--space-6); border: 2px dashed var(--border-color); border-radius: var(--radius-md); text-align: center; background: var(--color-gray-50); transition: all var(--transition-base); margin-top: 0;">
					<svg width="40" height="40" fill="none" stroke="var(--color-gray-400)" stroke-width="2" viewBox="0 0 24 24" style="margin: 0 auto var(--space-2);">
						<path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
					</svg>
					<div class="text-secondary" style="font-weight: var(--font-weight-medium);" data-i18n="visitor.placeholderPhotoUpload">Click to upload photos</div>
					<div class="text-muted" style="font-size: var(--font-size-xs); margin-top: var(--space-1);" data-i18n="visitor.placeholderPhotoFormat">PNG, JPG up to 10MB</div>
				</label>
				<input type="file" id="photoInput" multiple accept="image/*" style="display: none;" />
				<div id="photoPreview" class="photos"></div>
			</section>
			
			<!-- Form Actions -->
			<div class="actions" style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--border-color);">
				<button type="submit" class="btn btn-primary">
					<svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
						<path d="M5 13l4 4L19 7"/>
					</svg>
					<span data-i18n="visitor.save">Save Visitor</span>
				</button>
				<a class="btn btn-secondary" href="/visitors.html">
					<svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
						<path d="M6 18L18 6M6 6l12 12"/>
					</svg>
					<span data-i18n="visitor.cancel">Cancel</span>
				</a>
			</div>
		</form>
	</main>
	<script src="/i18n.js"></script>
	<script src="/layout.js"></script>
	<script src="/form.js"></script>
	</body>
	</html>
